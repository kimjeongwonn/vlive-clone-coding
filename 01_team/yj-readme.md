# 담당 파트

현재 재생중인 동영상과 연관된 추천 영상을 보여주는 영역

# 1. 레이아웃

왼쪽에서부터 데스크탑, 테블릿, 모바일 순으로 레이아웃이 달라진다.
즉, 전체적으로 `적응형` 디자인이 적용되었다.
![레이아웃](./img/layout.png)

## 1.2. 마크업

### 기존 마크업 순서

- 헤더
- 자동 재생 체크박스, `다음 리스트 보기 버튼` => JS가 Node를 동적으로 변경한다.
- 추천 영상 리스트
  - 썸네일
  - 플레이시간
  - 제목
  - 부가정보(그룹명, 등록일 ...)

### 변경된 마크업 순서

- 헤더
- 자동 재생 체크박스
- 추천 영상 리스트
  - 제목
  - 부가정보(그룹명, 등록일 ...)
  - 썸네일
  - 플레이시간
- `다음 리스트 보기 버튼`

`다음 리스트 보기 버튼`을 최하단에 배치했다. `추천 영상 목록`에 있는 영상들을 먼저 읽어준 후에 `다음 리스트 보기 버튼`을 클릭할 수 있도록 구성하는 것이
사용자의 입장에서 더 편리할 것이라 생각했기 때문이다.

마크업 구조상 최하단에 배치된 버튼은 최상단에 위치한 헤딩의 오른쪽에 배치하기 위해 `position: absolute`를 적용했다.

# 2. 디자인

## 2.1 공통 디자인 분석

적응형 레이아웃을 구현하기에 앞서 디바이스에 따라 구현할 css 코드가 중복되지 않도록 공통으로 적용되는 디자인 패턴을 분석했다.

### 모바일, 데스크탑

- `모바일`과 `데스크탑`의 레이아웃은 영상이 수직으로 쌓인다.

#### 구현 설명

- 수직으로 쌓이는 데스크탑과 모바일 레이아웃은 마크업 구조를 따라 영상의 순서를 수직형태 그대로 배치했다.
- 반면 테이블 레이아웃은 `display: flex`를 적용해서 영상을 수평으로 쌓고, `flex-wrap:wrap`을 적용해서 수평으로 더 이상 쌓을 수 없는 경우 아래쪽에 쌓도록 만들었다. 이제 `width` 값을 `30%`로 설정하면 2행 3열인 레이아웃을 만들 수 있다.
  > 참고: flex 속성을 사용하면 인라인, 블록 요소에 상관없이 쌓이는 흐름을 제어할 수 있다.

![flex-wrap](./img/flex-wrap-default.png)

### 테블릿, 데스크탑

- `테블릿`과 `데스크탑`은 썸네일이 상단에, 부가정보는 하단에 배치된다.
- 자동 재생을 지원하는 체크박스 버튼은 `테블릿`과 `데스크탑`에만 있다.

#### 구현 설명

- 썸네일이 마크업 구조상 하단에 위치하기 때문에 상단으로 옮기기 위해 `display:'flex`, `flex-direction: column`을 적용하고 썸네일의 `order:-1`로 설정해 주었다.
  > 참고: flex의 자식요소에 `order`값을 설정하면 배치되는 순서를 개별적으로 제어할 수 있다.

#### 모바일, 테블릿, 테스크탑 공통

- 부가정보는 1. 제목, 2. (그룹명, 등록일), 3.(재생수, 좋아요수, 댓글수)에 따라 `모바일`, `테블릿`, `데스크탑` 모두 `수직`으로 쌓인다.

![공통_레이아웃](./img/공통레이아웃.png)

위와 같이 분석한 결과 모바일과 데스크탑(테블릿포함)으로 나뉘는 경우가 다수 존재하기 때문에, 모바일 퍼스트로 구현한 후 데스크탑과 테블릿에 공통으로 적용되는 기능을 작성하고 그 후에 데스크탑과 테블릿에 개별적으로 적용되는 기능을 구현하는 방식으로 코드를 작성했다. 팀원들이 구현한 그리드 레이아웃과 미디어쿼리를 활용하니 비교적 수월하게 적응형에 맞춰 기능을 구현할 수 있었다.

## 접근성 고려

### 부분 포커스

자동 재생버튼은 체크박스를 커스텀해서 만들어야 한다. 이때 접근성을 고려한다면 탭을 통해서만 포커스가 가도록 만들어야 하기 때문에 `focus-visible`를 활용해서 탭을 통해서만 해당 버튼에 포커스가 가도록 만들 수 있다.

```scss
// 자동 재생 체크박스
&__check {
  @include a11yHidden; // 체크박스 숨김처리
  &:focus {
    // 포커스가 되면 레이블 태그 아웃라인 부여
    + .related__check-lb {
      outline: 2px solid black;
    }
  }
  &:focus:not(:focus-visible) {
    // 탭으로 선택되는 경우가 아니면 아웃라인 제거
    + .related__check-lb {
      outline: none;
    }
  }
}
```

But. focus-visible은 IE 브라우저를 지원하지 않는다. IE 브라우저를 지원하기 위해서는 JS를 사용해야 한다. 이번 프로젝트에서 배운내용을 기반으로 JS를 공부해서 IE 크로스브라우징 이슈를 해결해보면 좋을 것 같다.

> 자료를 찾아보며 알게된 유익한 정보

```scss
@media all and (-ms-high-contrast: none) {
  /* IE10+ CSS styles go here */
  .related__check {
    &:focus {
      + .related__check-lb {
        outline: none;
      }
    }
  }
}
```

### 부분 언어 적용

위와 같이 각 브라우저에 적용되는 고유 속성을 미디어 쿼리에 넣어줄 경우 그 쿼리문이 동작하는 브라우저에서만 조건문이 성립하기 때문에 크로스 브라우징을 대응할 때 활용할 수 있다.

<!-- ### 소결론
`웹표준`, `접근성`, `마크업 논리성`, `CSS 디자인`, `팀워크`를 중점적으로 생각하며 프로젝트를 시작다. 하지만 맡은 부분을 구현하기에 급급해서 생각했던 것 처럼 모든 것들을 고려하지는 못했다. -->
